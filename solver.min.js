var inputElement=document.querySelector("input[name=captchacode]"),label=inputElement.previousElementSibling;label.innerHTML="";var scriptElement=document.createElement("script");scriptElement.src="https://unpkg.com/tesseract.js@2.0.0/dist/tesseract.min.js",scriptElement.onload=function(){var e=document.querySelector("img[alt]"),t=document.createElement("img");t.id="preprocessed-image",t.src="preprocessed-image",e.parentNode.insertBefore(t,e.nextSibling);var a,r=document.createElement("canvas"),i=r.getContext("2d"),n=function e(t,a){r.width=t.width,r.height=t.height,i.drawImage(t,0,0);for(var n=i.getImageData(0,0,r.width,r.height),c=n.data,l=0;l<c.length;l+=4){var s=c[l],d=c[l+1],o=c[l+2];s===a&&d===a&&o===a?(c[l]=0,c[l+1]=0,c[l+2]=0):c[l+3]=0}return n=function e(t,a){for(var r=t.data,n=t.width,c=t.height,l=i.createImageData(n,c),s=0;s<c;s++)for(var d=0;d<n;d++){var o=(s*n+d)*4;if(0===r[o]&&0===r[o+1]&&0===r[o+2])for(var g=-a+1;g<=a;g++)for(var m=-a+1;m<=a;m++){var p=d+m,$=s+g;if(p>=0&&$>=0&&p<n&&$<c){var h=($*n+p)*4;l.data[h]=0,l.data[h+1]=0,l.data[h+2]=0,l.data[h+3]=255}}}return l}(n,1),i.putImageData(n,0,0),r.toDataURL()}(document.querySelector("img[alt]"),102);document.getElementById("preprocessed-image").src=n;var c=new Tesseract.createWorker;async function l(){await c.load(),await c.loadLanguage("eng"),await c.initialize("eng"),await c.setParameters({tessedit_char_whitelist:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",tessedit_char_blacklist:" "});let{data:e}=await c.recognize(t);var a=e.text.replace(/\s/g,"");console.log("Captcha Decoded:",a),inputElement.value=a,await c.terminate()}l()},document.head.appendChild(scriptElement);